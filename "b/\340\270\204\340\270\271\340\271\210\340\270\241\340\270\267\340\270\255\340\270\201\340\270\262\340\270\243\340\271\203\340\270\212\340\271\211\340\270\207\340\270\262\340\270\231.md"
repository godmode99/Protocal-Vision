# คู่มือการใช้งาน Protocol Vision IV4

เอกสารนี้อธิบายขั้นตอนการติดตั้งและใช้งานระบบ **Protocol Vision IV4** แบบย่อ
เพื่อให้ผู้ใช้งานสามารถเริ่มต้นระบบได้อย่างรวดเร็ว

## 1. การติดตั้งโปรแกรม
1. ติดตั้ง Python 3.9 ขึ้นไปบนเครื่อง
2. ดาวน์โหลดโค้ดจาก repository นี้และเข้าไปที่โฟลเดอร์โปรเจกต์
3. ติดตั้งไลบรารีที่จำเป็นด้วยคำสั่ง
   ```bash
   pip install -r requirements.txt
   ```

## 2. การตั้งค่าเบื้องต้น
ไฟล์ `ProtocolVisionIV4/config/config.json` จะกำหนดค่าพื้นฐานของระบบ เช่น
ชื่อโมเดล หมายเลขซีเรียล ตำแหน่งบันทึกภาพ และรายการกล้องที่เชื่อมต่อ
หากต้องการเปลี่ยนตำแหน่งไฟล์กำหนดค่า ให้ตั้งตัวแปรสภาพแวดล้อม
`CONFIG_PATH` หรือระบุ `--config <ไฟล์>` ตอนสั่งรันโปรแกรม

## 3. การใช้งานผ่าน UI
1. รันคำสั่ง
   ```bash
   python ProtocolVisionIV4/main.py
   ```
2. โปรแกรมจะเปิดหน้าต่าง Tkinter สำหรับควบคุมกล้อง
3. กดปุ่ม **Connect** เพื่อเชื่อมต่อกล้องแต่ละตัว
4. กดปุ่ม **Capture** เพื่อถ่ายภาพจากกล้องที่เลือก
5. หากต้องการเปลี่ยนหมายเลขซีเรียลหรือโมเดล ให้กดปุ่ม **Select Model**
6. ภาพและบันทึกการทำงานจะถูกเก็บไว้ภายใต้โฟลเดอร์ `outputs/`

## 4. การใช้งานผ่าน CLI (ทางเลือก)
สามารถเรียกใช้งานแบบบรรทัดคำสั่งได้ด้วยไฟล์ `main.py` ที่รากโปรเจกต์
```bash
python main.py [--config path/to/config.json] [--debug]
```
คำสั่งนี้จะเชื่อมต่อกล้องทั้งหมดตามไฟล์กำหนดค่า ถ่ายภาพ และบันทึกผลอัตโนมัติ

## 5. การดูบันทึกและภาพที่บันทึก
- ไฟล์ภาพจะอยู่ใน `outputs/images`
- ไฟล์ log และข้อมูล CSV/JSON จะอยู่ใน `outputs/logs`

## 6. การเชื่อมต่อกับระบบ Workflow
กำหนดค่า `webhook_url` หรือการตั้งค่า MQTT ใน `config.json` เพื่อส่งผลการตรวจสอบ
ออกไปยังระบบภายนอก เช่น n8n หรือ Node-RED โดยโปรแกรมจะเรียกใช้งานผ่านโมดูล
`send_to_workflow` และ `Logger` ตามค่าที่กำหนด

